<!DOCTYPE html>
<html lang="en">
<head>
   <script src="scripts/jeopardy.js"></script>
    <meta charset="UTF-8">
   <title>Title</title>
</head>
<body>

<header>

</header>

<section>

</section>

<script>

    async function populate() {

        //const requestURL = 'file:///Users/tm/Library/CloudStorage/OneDrive-Personal/01-17-22%20-%20Web%20Technologies/SET08801quiz/scripts/test.json';
        //const request = new Request(requestURL);

        //const response = await fetch(request);
        //const superHeroesText = await response.text();

        // static text

        const superHeroesText ='[{"id":115334,"answer":"a Ring Pop","question":"From Topps, this item that you wear on your finger has a \\"gem\\" made of candy","value":400,"airdate":"2013-07-29T12:00:00.000Z","created_at":"2014-02-14T02:44:56.527Z","updated_at":"2014-02-14T02:44:56.527Z","category_id":15727,"game_id":null,"invalid_count":null,"category":{"id":15727,"title":"candy is dandy","created_at":"2014-02-14T02:44:56.145Z","updated_at":"2014-02-14T02:44:56.145Z","clues_count":10}}]';

        const superHeroes = JSON.parse(superHeroesText);
        populateHeader(superHeroes);
        populateHeroes(superHeroes);

    }

    function populateHeader(obj) {

        const header = document.querySelector('header');
        const myH1 = document.createElement('h1');
        myH1.textContent = obj[0]['id'];
        header.appendChild(myH1);

        const myPara = document.createElement('p');
        myPara.textContent = `Hometown: ${obj[0]['question']} // Formed: ${obj[0]['formed']}`;
        header.appendChild(myPara);
    }

    function populateHeroes(obj) {
        const section = document.querySelector('section');
        const heroes = obj['members'];

        for (const hero of heroes) {
            const myArticle = document.createElement('article');
            const myH2 = document.createElement('h2');
            const myPara1 = document.createElement('p');
            const myPara2 = document.createElement('p');
            const myPara3 = document.createElement('p');
            const myList = document.createElement('ul');

            myH2.textContent = hero.name;
            myPara1.textContent = `Secret identity: ${hero.secretIdentity}`;
            myPara2.textContent = `Age: ${hero.age}`;
            myPara3.textContent = 'Superpowers:';

            const superPowers = hero.powers;
            for (const power of superPowers) {
                const listItem = document.createElement('li');
                listItem.textContent = power;
                myList.appendChild(listItem);
            }

            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myList);

            section.appendChild(myArticle);
        }
    }

    populate();

</script>


</body>
</html>